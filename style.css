:root{
  --bg:#000;
  --text:#fff;
  --accent:#FFD600; /* 見やすい黄色 */
  --accent-contrast:#000;
  --danger:#FF3B30; /* 再生停止など */
  --high-contrast-bg:#111;
  --button-padding:14px 20px;
  --btn-radius:10px;
  --gap:16px;
}

/* 全体 */
html,body{height:100%;margin:0;background:var(--bg);color:var(--text);font-family:system-ui, -apple-system, "Hiragino Kaku Gothic ProN", "Noto Sans JP", "Segoe UI", Roboto, "Helvetica Neue", Arial;}
/* 全体 */
/* ... 省略 ... */
main {
    max-width: 900px;
    margin: 0 auto;
    padding: 24px;
    
    /* ↓↓↓ この3行を追記/変更 ↓↓↓ */
    display: flex; /* 子要素をFlexアイテムにする */
    flex-direction: column; /* 縦方向に並べる */
    align-items: center; /* 子要素を中央揃えにする */
}
/* ... 省略 ... */
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0;}

/* header */
header.top{display:flex;align-items:center;gap:12px;justify-content:center;margin-bottom:12px}
#kgbalogo{height:48px;display:inline-block;}
h1{font-size:1.6rem;color:var(--accent);margin:0;}

/* コントロールボタンセクション */
.controls {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-bottom: var(--gap);
    flex-wrap: wrap; /* ボタンが多いため折り返しを許可 */
}

.controls button {
    flex: 1; 
    max-width: 250px;
    padding: var(--button-padding);
    border-radius: var(--btn-radius);
    font-size: 1rem;
    font-weight: bold;
    border: 2px solid var(--text);
    background: var(--high-contrast-bg);
    color: var(--text);
    cursor: pointer;
    min-width: 160px;
    box-sizing: border-box; /* padding/borderを含めたサイズ計算 */
}
/* 各行のボタンの背景色調整 */
.control-row-1 button, .control-row-2 button { background-color: #333; }

.controls button.accent {
    background: var(--accent);
    color: var(--accent-contrast);
    border-color: var(--accent);
}

#stopBtn{background:var(--danger);color:#fff;border-color:#fff;order: 2;} 
#startBtn{background:var(--accent);color:var(--accent-contrast);border-color:var(--accent-contrast);order: 1;} 

/* status */
#status{text-align:center;padding:12px;margin-bottom:var(--gap);border:1px solid #333;border-radius:var(--btn-radius);background:var(--high-contrast-bg);}
#questionLabel{font-size:1.2rem;font-weight:bold;color:var(--accent);}
#currentInput{font-size:1rem;margin:4px 0;color: #0ff;}
#result{font-size:1.2rem;font-weight:bold;color:var(--accent);min-height:20px;}


/* keypadWrap */
/* keypadWrap */
#keypadWrap {
    display: flex;
    justify-content: center; /* キーパッド全体を中央に配置 */
    /* ↓↓↓ 変更 ↓↓↓ */
    margin: var(--gap) 0;
    width: 100%; /* 親要素の幅を使う */
}

/* keypad: テンキーのデザインを修正 */
/* keypad: テンキーのデザインを修正 */
#keypad {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-auto-rows: clamp(64px, 12vw, 80px); /* ボタンの高さを調整 */
    gap: 10px;
    margin-top: var(--gap);
    /* ↓↓↓ 変更 ↓↓↓ */
    max-width: 320px; /* 最大幅を固定 */
    width: 100%; /* 常に親のkeypadWrapに対して100%を占める */
}

#keypad button {
    padding: 8px;
    font-size: 1.5rem;
    border-radius: var(--btn-radius);
    background: var(--high-contrast-bg);
    border: 2px solid #fff;
    color: #fff;
}

/* 決定ボタンのスタイル */
#keypad button.confirm {
    background: var(--accent);
    color: var(--accent-contrast);
    font-size: 1.1rem;
}

/* クリアボタンのスタイル */
#keypad button.clear {
  background: #555; 
  color: #fff;
  font-weight: bold;
}

/* Cボタンをテンキーのフル幅に広げる */
#keypad button.full-width {
    grid-column: 1 / span 3; /* 1列目から3列目まで結合 */
}

#keypad button[disabled]{opacity:0.5;pointer-events:none}

/* retry */
#retryWrap{text-align:center;margin-top:18px}
#retryBtn.accent{background:#00AEEF;color:#fff;border:2px solid #fff;padding:12px 24px;font-size:1.1rem;border-radius:12px}
#scoreDisplay{font-size:1.4rem;margin-bottom:8px;color:var(--accent)}


/* --- ランキング機能 & SNSシェアボタンのスタイル --- */
#postGameControls {
    margin-top: 18px;
    display: flex; 
    flex-direction: column; 
    gap: 10px;
    align-items: center; 
}

#postGameControls button {
    width: 100%; 
    max-width: 300px;
    padding: var(--button-padding);
    border-radius: var(--btn-radius);
    font-size: 1rem;
    font-weight: bold;
    border: 2px solid #fff;
    cursor: pointer;
}

#postGameControls .show-ranking-btn {
    background: #00AEEF; 
    color: #fff;
}

#postGameControls .social-share {
    background: #444;
    color: #fff;
}

/* --- ランキング表示エリア --- */
#rankingWrap {
    margin-top: 24px;
    padding: 16px;
    background: var(--high-contrast-bg);
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    text-align: center;
}

#rankingWrap h2 {
    color: var(--accent);
    margin-top: 0;
}

#rankingList table {
    width: 100%;
    border-collapse: collapse;
    margin: 10px 0;
    font-size: 0.95rem;
}

#rankingList th, #rankingList td {
    padding: 8px 4px;
    border: 1px solid #333;
    text-align: left;
}

#rankingList th {
    background-color: #333;
    color: var(--accent);
    font-weight: normal;
}

#rankingWrap #closeRankingBtn {
    margin-top: 15px;
    padding: 8px 16px;
    background: #777;
    color: #fff;
    border: none;
    border-radius: 6px;
    cursor: pointer;
}

/* credits: フッターのレイアウトを修正 */
footer.credits{
  margin-top:32px;
  padding:12px;
  border-top:1px solid #333;
  /* 縦並び・中央寄せに統一 */
  display:flex;
  flex-direction: column; 
  align-items: center;
  gap:8px; /* 縦方向の隙間を調整 */
  text-align: center;
  font-size:0.8rem;
  line-height:1.5;
}
footer.credits a{color:var(--accent);text-decoration:none}
footer.credits a:hover{text-decoration:underline}
.monlogo img{height:30px;vertical-align:middle;}


/* responsive: スマホでボタンを完全に縦並びにする */
@media (max-width:520px){
  /* コントロールボタンを縦並びにする */
  .controls {flex-direction: column;gap: 0;margin: 6px 0;}
  .controls button{min-width: unset;width: 100%;margin-bottom: 8px;font-size:0.95rem; padding: 10px 15px;}
  /* orderの指定をリセット */
  #stopBtn{ order: unset; }
  #startBtn{ order: unset; }

  #kgbalogo{height:38px}
  .monlogo img{height:20px;}
}
/* 決定ボタンのスタイル (確定ボタン) */
#keypad button.confirm {
    background: var(--accent);
    color: var(--accent-contrast);
    font-size: 1.1rem;
    
    /* ↓↓↓ 文字の間隔と配置を調整 ↓↓↓ */
    letter-spacing: 0.5em; /* 文字と文字の間隔を広げる */
    display: flex; /* Flexboxを有効にする */
    justify-content: center; /* テキストをボタン内で中央揃えにする */
    align-items: center; /* 垂直方向にも中央揃えにする */
}
/* ------------------------------------------------ */
/* ★ テンキーの配置とボタンのスタイリング (前回追加分) */
/* ------------------------------------------------ */

/* テンキー全体を中央寄せにするコンテナ */
#keypadWrap {
    display: flex;
    justify-content: center;
    margin-top: 20px;
    padding: 0 10px; /* 画面端との余白 */
    max-width: 500px; /* 最大幅を設定してPCでの表示崩れを防ぐ */
    margin-left: auto;
    margin-right: auto;
}

/* テンキーグリッドのコンテナ */
#keypad {
    display: grid;
    /* 3つの等しい幅のカラムを定義 */
    grid-template-columns: repeat(3, 1fr); 
    gap: 10px; /* ボタン間の間隔 */
    width: 100%; /* 親要素の幅いっぱいに広げる */
}

/* 通常のキーボタンのスタイル */
.key, .confirm {
    padding: 20px 10px;
    font-size: 1.5rem;
    font-weight: bold;
    border: 2px solid #555;
    border-radius: 12px;
    background-color: #f0f0f0;
    cursor: pointer;
    transition: background-color 0.1s;
    box-shadow: 0 4px 0 #bbb; /* ボタンの立体感 */
}

/* キーボタンのホバー/アクティブ時 */
.key:hover, .confirm:hover {
    background-color: #e0e0e0;
}
.key:active, .confirm:active {
    box-shadow: 0 2px 0 #999;
    transform: translateY(2px);
}

/* クリアボタン (C) のスタイル */
.key.clear {
    background-color: #f4d0a9; /* 薄いオレンジ */
    border-color: #d8964d;
    color: #444;
}
.key.clear:active {
    box-shadow: 0 2px 0 #d8964d;
}

/* 確定ボタンのスタイル */
.confirm {
    /* 確定ボタンはグリッドの開始位置から3カラム全てを占める */
    grid-column: 1 / span 3;
    padding: 15px 10px;
    background-color: #a9f4c3; /* 薄いグリーン */
    border-color: #4da96c;
    color: #000;
    /* 文字の間隔を広げて「確 定」と見えるように調整 */
    letter-spacing: 0.5em; 
}
.confirm:active {
    box-shadow: 0 2px 0 #4da96c;
}

/* スタートボタン（.accent クラス）の目立つスタイル */
#startBtn.accent {
    background-color: #e63946; /* 赤色系 */
    color: white;
    font-weight: bold;
    border-color: #a41724;
    box-shadow: 0 5px 0 #a41724;
    font-size: 1.2rem;
}
#startBtn.accent:active {
    box-shadow: 0 2px 0 #a41724;
    transform: translateY(3px);
}